@using System
@using System.Collections.Generic
@using System.Threading.Tasks
@using EDScenicRouteCoreModels
@using Microsoft.AspNetCore.Blazor.Components


    <div class="col">

        @if (CurrentlySearching)
        {
            <div class="alert alert-warning">Searching...</div>
        }
        else if (SearchCompleted)
        {
            if (!string.IsNullOrEmpty(ErrorMessage))
            {
                <div class="alert alert-danger">@(ErrorMessage)</div>
            } else if (ScenicSuggestions.Count > 0)
            {
                <div class="alert alert-primary">
                    Straight line distance of your trip: <strong>@(StraightLineDistance)Ly</strong>
                </div>
                <div class="alert alert-success">Consider visiting...</div>
            }
            else
            {
                <div class="alert alert-info">No suggestions.</div>
            }
        }

        @foreach (var item in ScenicSuggestions)
        {
            <ScenicSuggestionView Item=@item ShipJumpRange=@ShipJumpRange MaxExtraDistance=@MaxExtraDistance />
        }
        
    </div>
    
@functions {

    [Parameter]
    bool CurrentlySearching { get; set; }

    [Parameter]
    string ErrorMessage { get; set; }

    [Parameter]
    float StraightLineDistance { get; set; }

    [Parameter]
    float ShipJumpRange { get; set; }

    [Parameter]
    float MaxExtraDistance { get; set; }

    [Parameter]
    IReadOnlyList<ScenicSuggestion> ScenicSuggestions { get; set; }

    [Parameter]
    bool SearchCompleted { get; set; }

}
